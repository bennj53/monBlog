<div class="column is-full">
  <div class="flou card">
    <div *ngIf="urlArticle === null;else article_externe" class="card-image">
      <figure class="image is-4by3">
          <img [src]="imgArticle" onerror="this.onerror=null; this.src='../../../../assets/images/img-article-card.png'" alt="Placeholder image" (click)="onGetArticleDetail()">
      </figure>
    </div>
    <ng-template #article_externe>
      <div class="card-image">
        <a href={{urlArticle}} target="_blank">
          <figure class="image is-4by3">
            <img [src]="imgArticle" onerror="this.onerror=null; this.src='../../../../assets/images/img-article-card.png'" alt="Placeholder image">
          </figure>
        </a>
      </div>
    </ng-template>
    <div class="card-content" style="width: 300px;height: 300px;">
      <div class="media">
        <!--<div class="media-left">
          <figure class="image is-48x48">
            <img src="../../../../assets/images/logoLNUMERIQ.gif" alt="Placeholder image">
          </figure>
        </div>-->
        <div class="media-content">
          <p class="subtitle is-6" style="max-width: 100%;font-weight: bold;">{{ titre }}</p>
          <!--<p class="title is-4" style="max-width: 100%;">{{ auteur }}</p>-->
        </div>
      </div>

      <div class="content" style="max-width: 300px;max-height: 300px;" >
        <p style="overflow: hidden;text-overflow:ellipsis;max-width:100%;max-height: 170px;" >{{ resume }}</p>
      </div>
    </div>
    <footer class="card-footer" [ngStyle]="{'background-color':onGetAutorColor(auteur)}" style="height: 60px;"  id="footerCard">
      <p class="card-footer-item">
        <span>
          <div *ngIf="urlArticle === null;else article_externe_lien">
            <figure class="image is-full">
              <img [src]='onGetAutorLogo(auteur)' alt="Placeholder image" (click)="onGetArticleDetail()">
            </figure>
          </div>
          <ng-template #article_externe_lien>
            <div class="card-image">
              <a href={{urlArticle}} target="_blank" style="color: black;text-decoration: underline;">
                <figure class="image is-full">
                  <img [src]='onGetAutorLogo(auteur)' alt="Placeholder image" style="max-width: 100px;">
                </figure>
              </a>
            </div>
          </ng-template>
        </span>
      </p>
      <p class="card-footer-item">
        <span>
          <time datetime="01-01-2019">{{ date | date : "dd-MM-yyyy" }}</time>
        </span>
      </p>
    </footer>
  </div>

</div>

<script>
  function foo() {
    console.log("javascript processing");
    let footerCard = document.getElementById("footerCard");
    let autor = document.getElementById("autor").textContent;


    if(autor === "bennj53"){
      footerCard.style.color = "blue";
    }
    alert( "évnement capturé" );
  }
</script>

